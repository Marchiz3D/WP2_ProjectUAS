generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model customers {
  id            Int         @id @default(autoincrement())
  name          String      @db.VarChar(100)
  email         String      @unique(map: "Customers_email_key") @db.VarChar(100)
  password      String      @db.VarChar(255)
  phone_number  String      @db.VarChar(20)
  refresh_token String?     @db.Text
  reservasi     reservasi[]
}

model kamar {
  id           Int         @id @default(autoincrement())
  harga        Int
  description  String      @db.LongText
  jumlah_kasur Int
  no_kamar     String
  gambar_kamar String?     @db.Text
  status_kamar Boolean     @default(false)
  reservasi    reservasi[]
}

model reservasi {
  id               Int       @id @default(autoincrement())
  id_customers     Int       
  id_kamar         Int
  tanggal_checkin  String
  tanggal_checkout String
  status_reservasi String
  customers        customers @relation(fields: [id_customers], references: [id])
  kamar            kamar     @relation(fields: [id_kamar], references: [id])

  @@index([id_customers, id_kamar, tanggal_checkin])
}

